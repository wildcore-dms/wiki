# Автообнаружение (autodiscovery)
## О Компоненте
Компонент **Autodiscovery** позволяет автоматически добавлять поддерживаемое оборудование путем сканирования указанных заранее подсетей.

## Как происходит обнаружение?
Производится сканирование указанной подсети по snmp с указанным в доступах community. Сканирование производится в многопотоке(5к потоков) с коротким временем ожидания ответа.     
Далее весь список обнаруженных устройств передается системе для добавления.
Система проверяет наличие данного IP в системе.     
Если это новый IP - производится попытка добавить оборудование в систему, в указанную группу. 
В систему может быть добавлено только поддерживаемое оборудование.       

При добавлении, с устройства берутся следующие поля: имя устройства, расположение + для некоторого оборудования mac-адрес и серийный номер. 


## Настройка автообнаружения
### Веб-интерфейс
![](../assets/autodiscovery_page.png)

1. Кнопка удаления правила обнаружения
2. Подсеть в CIDR формате для поиска оборудования
3. Используемый доступ к устройству
4. Группа устройств, в которую необходимо добавить найденное устройств     
     
### Настройка    
1. Добавьте необходимые доступы оборудования _(страница Device management -> Accesses)_ - необходимо указать коммунити/логин/пароль
2. Создайте необходимые группы устройств  _(страница Device management -> Groups)_
3. На странице конфигурации добавьте необходимые подсети, укажите используемые доступы и группу
4. Сохраните правила обнаружения

Поиск нового оборудования производится каждые пол часа (*/30) c 6 утра до 23 вечера.       
Вы можете эти параметры через настройки планировщика _(страница Configuration -> Schedule configuration)_.      


Так же есть возможность запустить сканирование вручную не ожидая запуска планировщика командой - ```wca autodiscovery:scan```.

 