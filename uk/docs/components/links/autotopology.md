# Автотопологія

!!! info "Доступно з версії 0.25"

Компонент автотопології дозволяє знаходити зв'язки між обладнанням, використовуючи FDB (пріоритетно) та LLDP.

Компонент будує зв'язки, визначаючи при цьому напрямок до аплінку.
Аплінк визначається на основі MAC-адреси, отриманої з ARP обладнання (використовується мережевий шлюз пристрою).

!!! warning "Точність топології не гарантується, все залежить від того, як побудовано мережу"

---

## Налаштування автотопології

Автоматична топологія вимкнена за замовчуванням.
Щоб увімкнути — перейдіть до налаштувань системи (Configuration -> System configuration -> TAB Configuration -> BLOCK Autotopology).
??? "Скрін блоку"
    ![img_10.png](img_10.png)
За замовчуванням топологія збирається кожні 3 години, але якщо є необхідність, ви можете змінити частоту опитування в налаштуваннях планувальника (завдання `auto_topology_scan`).

!!! warning "Автоматична топологія використовує кешовані відповіді з обладнання, тому немає сенсу встановлювати частоту опитування частіше, ніж параметр актуалізації кешу"

---

## Ручний запуск автотопології

Також ви можете запустити збір топології вручну, виконавши команду:
```shell
wca auto_topology:scan
```

---

## Особливості та застереження
!!! warning "Якщо в пристрої вже вказаний аплінк-інтерфейс вручну, то порт не буде змінено автоматично, також не буде додано додатковий аплінк, якщо він був виявлений"
!!! warning "Автоматичні лінки очищуються через 3 дні, якщо вони перестають виявлятися протягом цього часу"
!!! warning "Автоматична топологія не передбачає наявність декількох аплінків. Якщо їх кілька — потрібно вказувати вручну"
