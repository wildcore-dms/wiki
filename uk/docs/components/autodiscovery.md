# Автовиявлення (autodiscovery)
## Про Компонент
Компонент **Autodiscovery** дозволяє автоматично додавати обладнання, що підтримується, шляхом сканування зазначених заздалегідь підмереж.

## Як відбувається виявлення?
Виконується сканування вказаної підмережі через snmp із зазначеним у доступах community. Сканування проводиться у багатопотоку (5к потоків) з коротким часом очікування відповіді.
Далі весь список виявлених пристроїв передається системі додавання.
Система перевіряє наявність цього IP у системі.
Якщо це новий IP - робиться спроба додати обладнання до системи, в зазначену групу.
У систему може бути додане тільки обладнання, що підтримується.

При додаванні з пристрою беруться наступні поля: ім'я пристрою, розташування + для деякого обладнання mac-адреса і серійний номер.


## Налаштування автовиявлення
### Веб-інтерфейс
![](../assets/autodiscovery_page.png)

1. Кнопка видалення правила виявлення
2. Підсіти в форматі CIDR для пошуку обладнання
3. Використання доступу до пристрою
4. Група пристроїв, до якої потрібно додати знайдені пристрої

### Налаштування
1. Додайте необхідні доступи обладнання _(сторінка Device management -> Accesses)_ - необхідно вказати комуніті/логін/пароль
2. Створіть необхідні групи пристроїв _(сторінка Device management -> Groups)_
3. На сторінці конфігурації додайте необхідні підмережі, вкажіть потрібні доступи та групу
4. Збережіть правила виявлення

Пошук нового обладнання проводиться кожні півгодини (*/30) з 6 ранку до 23 вечора.
Ви можете ці параметри через налаштування планувальника _(сторінка Configuration -> Schedule configuration)_.


Також є можливість запустити сканування вручну, не чекаючи запуску планувальника командою - ```wca autodiscovery:scan```.


