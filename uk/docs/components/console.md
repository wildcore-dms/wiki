# Компонент «Консоль»

!!! info "Доступно з версії 0.27"


## Призначення
- Підключення до консолі обладнання (Telnet/SSH) через Wildcore.
- Автоматичне введення логіну/паролю по доступам вказаних в системі.
- Доступ через веб-інтерфейс (на базі ttyd) та з CLI.
- Збереження логів спілкування з обладнанням
---

## Налаштування
### Увімкнення компонента

* В адмінці ввімкніть компонент «Консоль» (за замовчуванням вимкнений).
* Оновіть сторінку, відкрийте Налаштування → Консоль и ввімкніть опцію «Enable web».
* Зачекайте ~1 хвилину, поки запуститься веб-сервіс.
* Налаштуйте права у ролях (див. нижче).

<iframe width="100%" height="415"
src="https://www.youtube.com/embed/g1KEANz6v7M">
</iframe>


### Права доступу (RBAC)
Доступні три типи дозволів:

* Дозволити доступ до консолі — підключення до Telnet/SSH без автологіна.
* Дозволити доступ до консолі з автоматичною автентифікацією — використовується логін/пароль, збережені у системі.
* Дозволити перегляд журналів сеансів обладнання.

!!! note "Вибір Telnet/SSH відбувається автоматично відповідно до конфігурації пристрою"

### Налаштування Nginx (WebSocket/Upgrade)
Якщо у вас налаштовано проксування Wildcore через Nginx (наприклад, для підключення сертифіката), необхідно також сконфігурувати ваш зовнішній Nginx для роботи з сокетами.  
Додайте цю конфігурацію:

```title="блок location {} у Nginx"
set $connection_header "";
set $upgrade_header "";
if ($http_upgrade) {
    set $upgrade_header $http_upgrade;
    set $connection_header "upgrade";
}
proxy_set_header Upgrade $upgrade_header;
proxy_set_header Connection $connection_header;
```

## Використання
### Через WEB
**У картці пристрою з’являться два посилання:**

* Консоль — без автоматичного входу.
* Консоль (автовхід) — відкриття консолі з автоматичною автентифікацією на основі даних із системи.

За допомогою прав доступу у ролях можна дозволити або обмежити використання конкретних кнопок.

### Через CLI
Підключення з автологіном:
```shell
wca console:open <device_ip>
```   

Підключення з ручним введенням логіна/пароля:
```shell
wca console:open <device_ip> -l
```   